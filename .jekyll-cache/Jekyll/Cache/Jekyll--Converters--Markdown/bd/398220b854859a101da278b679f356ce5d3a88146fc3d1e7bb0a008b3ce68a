I"Å<h1 id="what-is-docker">What is Docker?</h1>

<p>Docker is a form ofÂ OS-level virtualisationÂ whoseÂ purposeÂ is, to quote:</p>
<blockquote>
  <p>Package up code and all its dependencies so the application runs quickly and reliably from one computing environment to another</p>
</blockquote>

<h1 id="why-docker">Why Docker?</h1>

<ul>
  <li>
    <p><strong>Speed</strong>: isolated, consistent and repeatable environments
for your developers to fire up a new version of the application that a collogue may have written requires muddling around in Git and using branches â€“ this interrupts work flows and can lead to lose of work if â€œgit stashâ€ isnâ€™t used right. With a container: they just run it.</p>
  </li>
  <li><strong>Portability</strong>: Docker images define abstract and immutable run time environment independent of the underlying hardware platform and packages it into a well defined and efficient image specification. With Dockerhub, we have a global distribution network
First up: portability and allowing anyone, on any hardware, and any OS to run the application with a single command. All they need to do is install Docker and â€œdocker runâ€ will do the rest. With a TAR file based deployment, they need TAR, they need to know how-to deploy the application and manage the files; they may need some runtime on their system like Ruby, Python or NodeJS; and they cannot restrict the resources the application is usingâ€¦</li>
  <li>
    <p><strong>Simplifies your infrastructure requirements</strong>
you can restrict the resources the application is using inside of a container much easier than you can with one that is not.</p>
  </li>
  <li><strong>Automation</strong> is first class citizen: Dockerfile, DockerCompose
one final point here: Docker Compose. Youâ€™re missing out on a lot of free stuff here. Itâ€™s so easy to write a Docker Compose file that brings up everything needed by the application - databases, caches, mocked APIs - allowing anyone in your organisation to bring up the application on their laptop and play with it, including the CEO, DBAs, QA, the receptionist.â€¨</li>
</ul>

<hr />

<h1 id="cheatsheet">Cheatsheet</h1>

<p><strong>For debugging</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker service ps <span class="nt">--no-trunc</span>
journalctl <span class="nt">-u</span> docker.service | <span class="nb">tail</span> <span class="nt">-n</span> 50 

<span class="c"># to get a bash shell in a container </span>
dockerÂ exec <span class="nt">-it</span> &lt;containerÂ name&gt; /bin/bash 

<span class="c"># in a swarm </span>
docker service logs â€”details <span class="nt">--tail</span> 10 &lt;service name&gt;
docker service ps my-ngx <span class="c"># returns a task id</span>
docker inspect <span class="nt">-f</span> <span class="s2">""</span> &lt;task_id&gt; <span class="c"># gets the container id</span>

</code></pre></div></div>

<hr />

<p><strong>Useful Reads</strong></p>

:ET